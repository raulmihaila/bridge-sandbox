import{f as w,E as _,h,g as m,p as v,n as k,ag as x,cU as f,ad as g,s as L,af as B,W as R,al as C,b7 as D,z as S,o as u,d as A,e as i,t as F,j as r,i as U,c as j,aO as z,m as E,x as I}from"./index.86d7e4bf.js";import{a as M}from"./lens-actions.83d153d5.js";import{s as $,h as H,c as K}from"./json.0cd2bd86.js";import{K as N}from"./network.434214a1.js";import"./utils.15e00fb8.js";import"./trash.d63c0dc1.js";import"./EnvInput.vue_vue_type_script_setup_true_lang.d7a135cf.js";import"./importers.b6ae8853.js";import"./___vite-browser-external_commonjs-proxy.cdb54493.js";import"./TaskOption.1829462a.js";import"./user.fb3dc4ce.js";import"./Primary.vue_vue_type_script_setup_true_lang.d4d43153.js";import"./ConfirmModal.vue_vue_type_script_setup_true_lang.8afd5bc1.js";import"./check-circle.3a02b99a.js";import"./Tab.vue_vue_type_script_setup_true_lang.224a8ebb.js";import"./helpers.e65d4688.js";import"./auth.15368646.js";import"./vuedraggable.umd.7c1d0268.js";import"./help-circle.a017c8ce.js";import"./rotate-ccw.6198f734.js";import"./json.53fc22d3.js";import"./circle.f91b5512.js";const O={class:"flex flex-col flex-1"},P={class:"sticky z-10 flex items-center justify-between flex-shrink-0 pl-4 overflow-x-auto border-b bg-primary border-dividerLight top-lowerSecondaryStickyFold"},T={class:"font-semibold truncate text-secondaryLight"},V={class:"flex"},J=["src","alt"],be=w({__name:"ImageLensRenderer",props:{response:null},setup(c){const s=c,d=_(),t=h(""),b=m(()=>v(s.response,B(N("type",["fail","success"])),x(f(e=>e.headers,L(e=>e.key.toLowerCase()==="content-type"),g(f(e=>e.value,$(";"),H,K)))),k(()=>"text/plain"))),{downloadIcon:y,downloadResponse:p}=M(b.value,m(()=>s.response.body));return R(s.response,()=>{t.value="";const e=s.response.body,n=new Uint8Array(e),a=new Blob([n.buffer]),o=new FileReader;o.onload=({target:l})=>{t.value=l.result},o.readAsDataURL(a)}),C(()=>{t.value="";const e=s.response.body,n=new Uint8Array(e),a=new Blob([n.buffer]),o=new FileReader;o.onload=({target:l})=>{t.value=l.result},o.readAsDataURL(a)}),D("response.file.download",()=>p()),(e,n)=>{const a=I,o=S("tippy");return u(),A("div",O,[i("div",P,[i("label",T,F(r(d)("response.body")),1),i("div",V,[c.response.body?U((u(),j(a,{key:0,title:`${r(d)("action.download_file")} <kbd>${r(z)()}</kbd><kbd>J</kbd>`,icon:r(y),onClick:r(p)},null,8,["title","icon","onClick"])),[[o,{theme:"tooltip",allowHTML:!0}]]):E("",!0)])]),i("img",{class:"flex max-w-full border-b border-dividerLight",src:t.value,loading:"lazy",alt:t.value},null,8,J)])}}});export{be as default};
//# sourceMappingURL=ImageLensRenderer.06ec2b4b.js.map
