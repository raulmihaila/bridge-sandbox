import{f as L,E as $,g as w,p as E,n as S,ag as T,cU as x,ad as D,s as H,af as I,h,aZ as M,b7 as v,z as j,o as a,d as z,e as i,t as F,j as e,i as c,c as d,K,b2 as O,m,aO as _,x as A}from"./index.86d7e4bf.js";import{u as N,a as P}from"./utils.15e00fb8.js";import{s as V,h as W,c as J}from"./json.0cd2bd86.js";import{b as U,a as Z,u as q}from"./lens-actions.83d153d5.js";import{K as G}from"./network.434214a1.js";import"./trash.d63c0dc1.js";import"./EnvInput.vue_vue_type_script_setup_true_lang.d7a135cf.js";import"./importers.b6ae8853.js";import"./___vite-browser-external_commonjs-proxy.cdb54493.js";import"./TaskOption.1829462a.js";import"./user.fb3dc4ce.js";import"./Primary.vue_vue_type_script_setup_true_lang.d4d43153.js";import"./ConfirmModal.vue_vue_type_script_setup_true_lang.8afd5bc1.js";import"./check-circle.3a02b99a.js";import"./Tab.vue_vue_type_script_setup_true_lang.224a8ebb.js";import"./helpers.e65d4688.js";import"./auth.15368646.js";import"./vuedraggable.umd.7c1d0268.js";import"./help-circle.a017c8ce.js";import"./rotate-ccw.6198f734.js";import"./json.53fc22d3.js";import"./circle.f91b5512.js";const Q={class:"flex flex-col flex-1"},X={class:"sticky z-10 flex items-center justify-between flex-shrink-0 pl-4 overflow-x-auto border-b bg-primary border-dividerLight top-lowerSecondaryStickyFold"},Y={class:"font-semibold truncate text-secondaryLight"},ee={class:"flex"},ge=L({__name:"RawLensRenderer",props:{response:null},setup(t){const s=t,n=$(),{responseBodyText:u}=U(s.response),C=w(()=>s.response.type==="fail"||s.response.type==="success"?s.response.body:new ArrayBuffer(0)),g=w(()=>E(s.response,I(G("type",["fail","success"])),T(x(o=>o.headers,H(o=>o.key.toLowerCase()==="content-type"),D(x(o=>o.value,V(";"),W,J)))),S(()=>"text/plain"))),{downloadIcon:R,downloadResponse:f}=Z(g.value,C),{copyIcon:B,copyResponse:y}=q(u),b=h(null),r=h(!0);return N(b,u,M({extendedEditorConfig:{mode:"text/plain",readOnly:!0,lineWrapping:r},linter:null,completer:null,environmentHighlights:!0})),v("response.file.download",()=>f()),v("response.copy",()=>y()),(o,k)=>{const l=A,p=j("tippy");return a(),z("div",Q,[i("div",X,[i("label",Y,F(e(n)("response.body")),1),i("div",ee,[t.response.body?c((a(),d(l,{key:0,title:e(n)("state.linewrap"),class:K({"!text-accent":r.value}),icon:e(P),onClick:k[0]||(k[0]=O(oe=>r.value=!r.value,["prevent"]))},null,8,["title","class","icon"])),[[p,{theme:"tooltip"}]]):m("",!0),t.response.body?c((a(),d(l,{key:1,title:`${e(n)("action.download_file")} <kbd>${e(_)()}</kbd><kbd>J</kbd>`,icon:e(R),onClick:e(f)},null,8,["title","icon","onClick"])),[[p,{theme:"tooltip",allowHTML:!0}]]):m("",!0),t.response.body?c((a(),d(l,{key:2,title:`${e(n)("action.copy")} <kbd>${e(_)()}</kbd><kbd>.</kbd>`,icon:e(B),onClick:e(y)},null,8,["title","icon","onClick"])),[[p,{theme:"tooltip",allowHTML:!0}]]):m("",!0)])]),i("div",{ref_key:"rawResponse",ref:b,class:"flex flex-col flex-1"},null,512)])}}});export{ge as default};
//# sourceMappingURL=RawLensRenderer.75f32615.js.map
