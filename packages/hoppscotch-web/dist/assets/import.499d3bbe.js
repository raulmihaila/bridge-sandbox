import{m,O as y,U as P,l as v}from"./importers.b6ae8853.js";import{a as l,c as g,t as M}from"./TaskOption.1829462a.js";import{f as A,E as D,al as F,p as r,hx as x,gt as C,o as L,d as N,a7 as S,$ as b,hn as k,hv as f,dZ as U,hy as V,dY as B,hz as W,hp as Y,e1 as $,a8 as q}from"./index.86d7e4bf.js";import"./json.0cd2bd86.js";import"./___vite-browser-external_commonjs-proxy.cdb54493.js";import"./user.fb3dc4ce.js";const u=i=>a=>typeof a===i,G=A({__name:"import",setup(i){const a=q(),d=S(),n=b(),p=D(),c="importer_invalid_type",_="importer_invalid_fetch",R=(t,s)=>r($,B("importer",()=>r(P,W(o=>o.applicableTo.includes("url-import")&&o.id===s),Y(()=>c))),V("content",()=>r(t,l(u("string")),g(O),f(()=>_))),k(({importer:o,content:e})=>r(e.data,l(u("string")),f(()=>m),U(T=>o.importer([T])))));F(async()=>{const{query:t}=a,s=t.url,o=t.type,e=await R(s,o)();r(e,x(I,E)),d.replace("/")});const h={[c]:"import.import_from_url_invalid_type",[_]:"import.import_from_url_invalid_fetch",[m]:"import.import_from_url_invalid_file_format",[y]:"import.import_from_url_invalid_file_format"},I=t=>{n.error(p(h[t]).toString())},E=t=>{C(t),n.success(p("import.import_from_url_success").toString())},O=t=>M(()=>v.get(t,{responseType:"text",transitional:{forcedJSONParsing:!1}}));return(t,s)=>(L(),N("div"))}});export{G as default};
//# sourceMappingURL=import.499d3bbe.js.map
